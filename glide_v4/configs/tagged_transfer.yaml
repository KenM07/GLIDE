simulation:
  t_end_s: 7200.0
  dt_s: 1.0
  output_dir: outputs/tagged_transfer
  save_plots: true
  stop_on_success: true
  allocation_error_tol: 1.0e-6
  adcs_saturation_limit: 1.0e-3
  control_enabled: true
  guidance_enabled: true
  skip_if_infeasible: true

orbit:
  altitude_km: 500.0
  inclination_deg: 51.6
  raan_deg: 0.0
  arg_perigee_deg: 0.0
  true_anomaly_deg: 0.0
  ecc: 0.0

receiver_node:
  mass_kg: 200.0
  area_m2: 0.2
  Cd: 2.2

payload:
  mass_kg: 150.0
  area_m2_min: 0.02
  area_m2_max: 0.2
  Cd: 2.2

initial_relative_state_lvh_m:
  r_m: [0.0, 1000.0, 0.0]
  v_mps: [0.0, 0.0, 0.0]

environment:
  atmosphere:
    model: exponential
    params:
      rho0: 3.0e-12
      h0: 400000.0
      H: 50000.0
      rho_scale: 1.0

guidance:
  use_nominal: true
  cadence_s:
    COARSE: 300.0
    REFINE: 30.0
    TERMINAL_PREP: 1.0
    TERMINAL: 1.0
  gains:
    COARSE: {kp: 1.0e-6, kd: 2.0e-3}
    REFINE: {kp: 5.0e-6, kd: 5.0e-3}
    TERMINAL_PREP: {kp: 2.0e-5, kd: 1.0e-2}
    TERMINAL: {kp: 5.0e-5, kd: 2.0e-2}
  target_speeds:
    REFINE: 0.20
    TERMINAL_PREP: 0.10
    TERMINAL: 0.05
  speed_gain: 0.2
  max_accel: 5.0e-4

gates:
  thresholds:
    R_ACQ: 250.0
    R_COR: 10.0
    R_PRE: 2.0
    R_LATCH: 0.5
  speed_limits:
    R_COR: {target: 0.20, hard_max: 0.35}
    R_PRE: {target: 0.10, hard_max: 0.20}
    R_LATCH: {target: 0.05, hard_max: 0.10}

medt:
  I_max: 10.0
  L_tether: 1000.0
  eta: 0.5
  safe_modes: [TERMINAL_PREP]

targeting:
  enabled: true
  method: dv
  dv0_max_mps: 0.2
  dv0_axis_max_mps: [0.2, 0.2, 0.2]
  dt_max_s: 600.0
  dt_step_s: 10.0

debug:
  dual_run: true
